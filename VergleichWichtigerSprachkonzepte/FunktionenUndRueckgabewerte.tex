\section{Funktionen und Rückgabewerte}\label{sec:functionsAndReturnValues}

Ein wichtiger Bestandteil von vielen Programmiersprachen sind Prozeduren und Funktionen. Dabei handelt es sich um Codeabschnitte, die von einer anderen Stelle aus aufgerufen werden können. Im Gegensatz zu Prozeduren, die bestimmte Verarbeitungsschritte durchlaufen, liefern Funktionen dabei noch zusätzlich einen Rückgabewert.\\

\subsection*{Java}
In Java muss jede Anweisung Teil einer Funktion sein. Wie in \autoref{programmablauf} beschrieben startet ein Java-Programm auch innerhalb einer Funktion. Die Unterscheidung zwischen Funktion und Prozedur wird in Java gängigerweise nicht getroffen. Oft findet sich auch die Bezeichnung Methode. Java unterscheidet sich von manchen anderen modernen Sprachen dadurch, dass es keine Methodenschachtelungen erlaubt.\\

\mintedJava{MethodExample.java}{Methoden in Java}{javaMethods}

\autoref{javaMethods} zeigt verschiedene Methoden. An diesem Beispiel sollen zwei wichtige Konzepte dargestellt werden: \\
\begin{itemize}
    \item \textbf{Übergabe von Parametern}\\
    Wie gezeigt erhalten die Funktionen unterschiedliche Parameter. Die Methode \mintinline{java}{process()} zum Beipiel erhält keinen Parameter, wohingegen \mintinline{java}{getGreeting(String, String)} zwei Parameter vom Typ \mintinline{java}{String} erwartet.
    \item \textbf{Rückgabe eines Wertes}\\
    Eine Funktion muss stets den Typ ihres Rückgabewertes definieren. Soll kein Rückgabewert geliefert werden so ist der Typ als \mintinline{java}{void} zu definieren. Im Gegensatz zu anderen Sprachen kann eine Methode in Java lediglich einen Wert zurückliefern.
\end{itemize}

Der Aufruf einer Funktion erfolgt wie in Zeile 12 gezeigt mittels Methodenname und den zu übergebenen Parametern. Um eine Funktion zu verlassen wird das Schlüsselwort \mintinline{java}{return} verwendet. In Verbindung mit einer Variablen oder einem Literal gibt dieses Statement einen Rückgabewert an die aufrufende Funktion zurück.\\

Eine eher selten genutzte, wenn doch elegante Möglichkeit die sich mit Funktionen in Java bietet, ist die Rekursion. Dabei handelt es sich um eine Funktion die sich selbst aufruft. \\

\mintedJava{RecursionExample.java}{Rekursion in Java}{javaRecursion}

Die Funktionen \mintinline{java}{facultyRecursive} und \mintinline{java}{facultyIterative} in \autoref{javaRecursion} berechnen  die Fakultät einer übergebenen Zahl. Klar ersichtlich ist, dass auch schon ein sehr kleines Beispiel durch eine rekursive Implementierung eleganter und durch weniger Code ausgedrückt werden kann. Auf der anderen Seite ist die iterative Implementierung stets sicherer, da die rekursive Variante unter Umständen an die nicht fest definierte Grenze der maximalen Rekursionstiefe gelangt.\\

\subsection*{COBOL}
Das Konzept einer Funktion existiert in COBOL nicht. Lediglich das Aufrufen einer \mintinline{cobolfree}{SECTION} oder eines Paragraphs mithilfe eines \mintinline{cobolfree}{PERFORM} geben ansatzweise ähnliche Möglichkeiten. Jedoch können dabei weder Parameter übergeben noch ein Wert zurückgeliefert werden. Darum ist es nötig Werte, die innerhalb einer SECTION verwendet werden sollen in Variablen zu kopieren. Auch ein Wert, der zurückgeliefert werden soll muss in eine solche Variable kopiert werden. Wie in \autoref{sec:scope} beschrieben sind diese Variablen jedoch immer global innerhalb eines Programms definiert.\\

Oft bringt das allerdings Probleme mit sich. Zum Beispiel werden in der Praxis oft Variablen, die für etwas anderes gedacht sind, an einer anderen Stelle wiederverwendet. So ist nicht ganz klar, welchen Zweck Variablen erfüllen. Ein weiterer großer Nachteil ist, dass Logik oftmals kopiert und sehr ähnlich nochmals geschrieben werden muss, um auf anderen Daten zu operieren.\\

Rekursive \mintinline{cobolfree}{PERFORM}-Aufrufe sind zwar syntaktisch möglich, jedoch führt die Ausführung zu einem undefinierten Verhalten des Programms und ist deshalb in jedem Fall zu unterlassen. Es kann quasi festgehalten werden, dass Rekursionen innerhalb eines Programms in COBOL nicht möglich sind. Anders sieht es dabei mit gesamten Programmen aus.

\mintedCobol{recursion.cbl}{Rekursion in COBOL}{recursionCobol}

\autoref{recursionCobol} enthält analog zu gezeigtem Java-Beispiel auch ein Programm, welches Rekursiv die Fakultät einer Zahl errechnet und ausgibt. Wichtig ist hierbei vorallem die \mintinline{cobolfree}{RECURSIVE} Definition hinter dem Programmnamen in Zeile 2. Die \mintinline{cobolfree}{WORKING-STORAGE SECTION} enthält dabei Variablen, welche von jeder Instanz des rekursiv aufgerufenen Programms gemeinsam genutz werden. In \mintinline{cobolfree}{LOCAL-STORAGE SECTION} finden sich Variablen, deren Gültigkeitsbereich sich auf die aktuelle Aufrufinstanz beschränken.

\todo{Unterprogramme wo hin?}